<!-- Update the xmlns:gif namespace to the correct WpfAnimatedGif namespace -->
<UserControl x:Class="Automated_Employee_Attendance_System.EmployeeWindow"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Automated_Employee_Attendance_System"
      xmlns:gif="https://github.com/XamlAnimatedGif/XamlAnimatedGif"
      mc:Ignorable="d" 
             RenderOptions.BitmapScalingMode="HighQuality"
             FontFamily="Microsoft Sans Serif"
             SnapsToDevicePixels="True"
     
     d:DesignWidth="800"
      >

    <Grid>

        <TabControl Style="{DynamicResource TabControl}">
            <TabItem Style="{DynamicResource TabItem}" Header="Employee">




                <DataGrid x:Name="EmployeeGrid"
Background="Transparent"
RowBackground="White"
AlternatingRowBackground="#f0f0f0"
SnapsToDevicePixels="True"
AutoGenerateColumns="False"
ItemsSource="{Binding UpcomingBirthdays}"
CanUserResizeColumns="False"
ScrollViewer.CanContentScroll="True"
ScrollViewer.VerticalScrollBarVisibility="Hidden"
Height="500"
CellStyle="{StaticResource DataGridCellStyle}"
Style="{StaticResource DataGridStyle}"
ColumnHeaderStyle="{StaticResource DataGridHeaderStyle}"
RowStyle="{StaticResource DataGridRowStyle}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding id}" Width="*" ElementStyle="{DynamicResource DataGridColumnsStyle}" />
                        <DataGridTextColumn Header="Employee Name" Binding="{Binding name}" Width="*" ElementStyle="{DynamicResource DataGridColumnsStyle}" />
                        <DataGridTextColumn Header="NIC" Binding="{Binding nic}" Width="*" ElementStyle="{DynamicResource DataGridColumnsStyle}" />


                        <DataGridTemplateColumn Header="Action" Width="100">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="Delete"
                                            Style="{DynamicResource ActionButton}"
                                     Click="DeleteEmployee_Click"
                                    CommandParameter="{Binding}" />

                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    </DataGrid.Columns>
                </DataGrid>

            </TabItem>
            
            
            <TabItem Width="auto" Style="{DynamicResource TabItem}" Header="  >  Enroll Fingerprint">

                <StackPanel>

                    <StackPanel Margin="30">
                        <TextBlock Foreground="{DynamicResource Forground}" Text="Enoll New Employee Fingerprint" 
VerticalAlignment="Center" 
HorizontalAlignment="Left" 
FontSize="25" 

FontWeight="Bold" Margin="0,0,0,10"/>

                        <TextBlock Text="Enter the employee details below and follow the intructions on the scanner interface ti register a new biometric ID" FontSize="12" Foreground="Gray" />

                    </StackPanel>


                    <StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>
                            
                            
                            <StackPanel Margin="30" Grid.Column="0">


                                <Border Background="{DynamicResource Background}"
            CornerRadius="12"
            Padding="20"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1">

                                    <StackPanel>

                                        <!-- Header -->
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                            <TextBlock Text="👤"
                           FontSize="18"
                           Margin="0,0,8,0" Foreground="#FF0660FE"/>
                                            <TextBlock Text="Employee Details"
                           FontSize="18"
                           FontWeight="Medium" Foreground="{DynamicResource Forground}"/>
                                        </StackPanel>

                                        <!-- Row 1 -->
                                        <Grid Margin="0,0,0,12">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition/>
                                                <ColumnDefinition Width="15"/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel>
                                                <TextBlock Text="Employee ID" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                                                <TextBox x:Name="EmpId"  PreviewTextInput="EmpId_PreviewTextInput"
         PreviewKeyDown="EmpId_PreviewKeyDown" Style="{DynamicResource TextBoxStyle}" />
                                            </StackPanel>

                                            <StackPanel Grid.Column="2">
                                                <TextBlock Text="Department" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                                                <ComboBox Style="{DynamicResource ComboBoxFlatStyle}" Height="35"
                              Padding="5"
                              BorderBrush="#D1D5DB" >
                                                    <ComboBoxItem Content="Engineering" IsSelected="True"/>
                                                    <ComboBoxItem Content="HR"/>
                                                    <ComboBoxItem Content="Finance"/>
                                                </ComboBox>
                                            </StackPanel>
                                        </Grid>

                                        <!-- Row 2 -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition/>
                                                <ColumnDefinition Width="15"/>
                                                <ColumnDefinition/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel>
                                                <TextBlock Text="First Name" FontSize="12" Foreground="Gray" Margin="0,0,0,5"/>
                                                <TextBox x:Name="EmpName" Style="{DynamicResource TextBoxStyle}" 
                             
                           />
                                            </StackPanel>

                                            <StackPanel Grid.Column="2">
                                                <TextBlock Text="Last Name" FontSize="12" Foreground="Gray" Margin="0,0,0,4.5"/>
                                                <TextBox x:Name="EmpNIC" Style="{DynamicResource TextBoxStyle}" 
                         
                            />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Border>

                                <StackPanel Margin="0,15,0,0" Orientation="Horizontal">
                                    <Button Width="100" Height="35" Content="Cancel" Margin="10,0,0,0" Style="{DynamicResource NavigationButtonStyle}"/>
                                    <Button Click="AddEmployee_Click" Width="100" Height="35" Margin="10,0,0,0" Content="Add Employee" Style="{DynamicResource ActionButton}"/>
                                </StackPanel>
                                
                                
                                
                            </StackPanel>


                            <StackPanel Margin="30" Grid.Column="1">

                                <Border Background="{DynamicResource Background}"
            CornerRadius="14"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1">

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- Header -->
                                        <Border 
                    Padding="15"
                                            BorderThickness="0,0,0,1"
                                                
                    BorderBrush="{DynamicResource BorderBrush}"
                    >
                                            <DockPanel >
                                                <TextBlock HorizontalAlignment="Left" Foreground="{DynamicResource Forground}" Text="Scanner Interface"
                               FontSize="16"
                               FontWeight="Medium"
                               DockPanel.Dock="Left"/>

                                                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal"
                                DockPanel.Dock="Right">
                                                    <Ellipse Width="8" Height="8"
                                 Fill="#22C55E"
                                 Margin="0,0,6,0"/>
                                                    <TextBlock FontWeight="Bold" Text="Online"
                                   Foreground="#22C55E"
                                   FontSize="12"/>
                                                </StackPanel>
                                            </DockPanel>
                                        </Border>

                                        <!-- Content -->
                                        <StackPanel Grid.Row="1"
                        Margin="20"
                        HorizontalAlignment="Center">

                                            <!-- Scanner Box -->
                                            <Border Width="220"
                        Height="280"
                        CornerRadius="14"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="2"
                        
                        Background="{DynamicResource Background}">

                                                <StackPanel VerticalAlignment="Center"
                                HorizontalAlignment="Center">

                                                    <!-- Fake Scan Line -->

                                                    <!-- Fingerprint Icon -->
                                                    <Image x:Name="MyGifImage"
       Width="180"
                                                           HorizontalAlignment="Center" VerticalAlignment="Center"
       RenderOptions.BitmapScalingMode="HighQuality"
       SnapsToDevicePixels="True"/>

                                                    <TextBlock Text="Scaning.."
                                   FontSize="11"
                                   Foreground="#94A3B8"
                                   Margin="0,10,0,0"
                                   HorizontalAlignment="Center"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- Status Text -->
                                            <TextBlock Text="Waiting for sensor input..."
                           FontSize="15"
                           FontWeight="Medium"
                           Margin="0,20,0,5"
                           HorizontalAlignment="Center"/>

                                            <TextBlock TextWrapping="WrapWithOverflow" Text="Place the employee's finger on the hardware sensor."
                           FontSize="12"
                           Foreground="Gray"
                           TextAlignment="Center"
                           Width="260"/>
                                        </StackPanel>

                                        <!-- Footer Button -->
                                        <Border Grid.Row="2"
                    Padding="15"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="0,1,0,0">

                                            <Button Height="44"
                        Style="{DynamicResource ActionButton}"
                                                    Click="ScanFingerprint_Click"
                                                    Width="300">

                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text=""
FontFamily="Segoe MDL2 Assets"
FontSize="18"
VerticalAlignment="Center"/>

                                                    <TextBlock Text="Scan Fingerprint" Margin="10,0,0,0"/>
                                                </StackPanel>

                                             

                                            </Button>





                                        </Border>

                                    </Grid>
                                </Border>
                                
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                   

                </StackPanel>

                
               

            </TabItem>
            
            
            
        </TabControl>
        
    </Grid>
</UserControl>
